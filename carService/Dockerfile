FROM openjdk:21-jdk-slim

WORKDIR /app

COPY target/techin-0.0.1-SNAPSHOT.jar app.jar

EXPOSE 8080

ENV SPRING_APPLICATION_NAME=car_service
ENV SPRING_DATASOURCE_URL=jdbc:mysql://db:3306/car_service
ENV SPRING_DATASOURCE_USERNAME=root
ENV SPRING_DATASOURCE_PASSWORD=my-secret-pw
ENV SPRING_JPA_SHOW_SQL=true
ENV SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL=true
ENV JWT_PRIVATE_KEY=classpath:app.key
ENV JWT_PUBLIC_KEY=classpath:app.pub
ENV SPRINGDOC_API_DOCS_ENABLED=true
ENV SPRINGDOC_SWAGGER_UI_ENABLED=true
ENV SPRINGDOC_API_DOCS_PATH=/api-docs
ENV SPRINGDOC_SWAGGER_UI_PATH=/swagger-ui-custom.html

ENTRYPOINT ["java", "-jar", "app.jar"]